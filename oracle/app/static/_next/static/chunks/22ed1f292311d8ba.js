(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81114,e=>{"use strict";e.s(["Label",()=>l],81114);var t=e.i(96922),r=e.i(60159),s=e.i(98956),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var n=e.i(69794);function l(e){let{className:r,...s}=e;return(0,t.jsx)(a,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}},29953,3526,63168,87021,e=>{"use strict";function t(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function r(e,r){var s=t(e,r,"get");return s.get?s.get.call(e):s.value}function s(e,t,r){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");t.set(e,r)}function a(e,r,s){var a=t(e,r,"set");if(a.set)a.set.call(e,s);else{if(!a.writable)throw TypeError("attempted to set read only private field");a.value=s}return s}e.s(["showToast",()=>f],29953),e.s(["_",()=>r],3526),e.s(["_",()=>s],63168),e.s(["_",()=>a],87021);let n={position:"top-right",toastMsg:"ü¶ö TypeScript Toastify",autoCloseTime:5e3,onClose:()=>{},canClose:!0,showProgress:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,type:"default",theme:"light"};var l=new WeakMap,o=new WeakMap,i=new WeakMap,d=new WeakMap,c=new WeakMap,m=new WeakMap,h=new WeakMap,u=new WeakMap,g=new WeakMap,v=new WeakMap,p=new WeakMap,x=new WeakMap,j=new WeakMap;class y{set position(e){let t=r(this,l).parentElement;(document.querySelector('.toast-container[data-position="'.concat(e,'"]'))||(()=>{let t=document.createElement("div");return t.classList.add("toast-container"),t.dataset.position=e,document.body.append(t),t})()).append(r(this,l)),null==t||t.hasChildNodes()||t.remove()}set toastMsg(e){r(this,l).textContent=e}set autoCloseTime(e){let t;if(a(this,d,e),a(this,m,0),!1==!!e)return;let s=e=>{if(r(this,x)&&(t=null,a(this,x,!1)),null==t){t=e,a(this,u,requestAnimationFrame(s));return}if(!r(this,h)&&(a(this,m,r(this,m)+(e-t)),r(this,m)>=r(this,d)))return void this.remove();t=e,a(this,u,requestAnimationFrame(s))};a(this,u,requestAnimationFrame(s))}set canClose(e){r(this,l).classList.toggle("can-close",e),e?r(this,l).addEventListener("click",r(this,o)):r(this,l).removeEventListener("click",r(this,o))}set showProgress(e){if(r(this,l).classList.toggle("progress",e),r(this,l).style.setProperty("--progress","1"),e){let e=()=>{r(this,h)||r(this,l).style.setProperty("--progress","".concat(1-r(this,m)/r(this,d))),a(this,c,requestAnimationFrame(e))};a(this,c,requestAnimationFrame(e))}}set pauseOnHover(e){e?(r(this,l).addEventListener("mouseover",r(this,v)),r(this,l).addEventListener("mouseleave",r(this,g))):(r(this,l).removeEventListener("mouseover",r(this,v)),r(this,l).removeEventListener("mouseleave",r(this,g)))}set pauseOnFocusLoss(e){e?document.addEventListener("visibilitychange",r(this,p)):document.removeEventListener("visibilitychange",r(this,p))}set type(e){let t=r(this,l).querySelector(".toast-icon");t&&t.remove();let s=document.createElement("div");s.classList.add("toast-icon"),a(this,j,e),"default"===e||("error"===e?(s.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--error-secondary)" class="Type_svg"><path d="M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"></path></svg>\n',r(this,l).style.setProperty("--light_bg","var(--error-primary)"),r(this,l).style.setProperty("--dark_bg","var(--error-primary)"),r(this,l).style.setProperty("--light-border","var(--error-secondary)"),r(this,l).classList.add("error"),r(this,l).classList.remove("info"),r(this,l).classList.remove("success"),r(this,l).classList.remove("warning")):"info"===e?(s.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--info-secondary)" class="Type_svg"><path d="M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"></path></svg>\n',r(this,l).style.setProperty("--light_bg","var(--info-primary)"),r(this,l).style.setProperty("--dark_bg","var(--info-primary)"),r(this,l).style.setProperty("--light-border","var(--info-secondary)"),r(this,l).classList.add("info"),r(this,l).classList.remove("error"),r(this,l).classList.remove("success"),r(this,l).classList.remove("warning")):"success"===e?(s.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--success-secondary)" class="Type_svg"><path d="M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"></path></svg>\n',r(this,l).style.setProperty("--light_bg","var(--success-primary)"),r(this,l).style.setProperty("--dark_bg","var(--success-primary)"),r(this,l).style.setProperty("--light-border","var(--success-secondary)"),r(this,l).classList.add("success"),r(this,l).classList.remove("info"),r(this,l).classList.remove("error"),r(this,l).classList.remove("warning")):"warning"===e&&(s.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--warning-secondary)" class="Type_svg"><path d="M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"></path></svg>\n',r(this,l).style.setProperty("--light_bg","var(--warning-primary)"),r(this,l).style.setProperty("--dark_bg","var(--warning-primary)"),r(this,l).style.setProperty("--light-border","var(--warning-secondary)"),r(this,l).classList.add("warning"),r(this,l).classList.remove("info"),r(this,l).classList.remove("success"),r(this,l).classList.remove("error"))),r(this,l).prepend(s)}set theme(e){if("info"===r(this,j)||"success"===r(this,j)||"warning"===r(this,j)||"error"===r(this,j)){r(this,l).classList.remove("dark"),r(this,l).classList.remove("light"),"dark"===e&&r(this,l).style.setProperty("--light_color","var(--dark_color)");return}"dark"===e?(r(this,l).style.setProperty("--light_bg","var(--dark_bg)"),r(this,l).style.setProperty("--light_color","var(--dark_color)"),r(this,l).classList.add("dark")):(r(this,l).style.setProperty("--dark_bg","var(--light_bg)"),r(this,l).style.setProperty("--dark_color","var(--light_color)"),r(this,l).classList.add("light"))}remove(){void 0!==r(this,u)&&cancelAnimationFrame(r(this,u)),void 0!==r(this,c)&&cancelAnimationFrame(r(this,c));let e=r(this,l).parentElement;r(this,l).classList.remove("show"),r(this,l).addEventListener("transitionend",()=>{r(this,l).remove(),e.hasChildNodes()||e.remove()}),r(this,i).call(this)}update(e){Object.entries(e).forEach(e=>{let[t,r]=e;this[t]=r})}constructor(e){var t;s(this,l,{writable:!0,value:void 0}),s(this,o,{writable:!0,value:void 0}),s(this,i,{writable:!0,value:void 0}),s(this,d,{writable:!0,value:void 0}),s(this,c,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:0}),s(this,h,{writable:!0,value:!1}),s(this,u,{writable:!0,value:void 0}),s(this,g,{writable:!0,value:void 0}),s(this,v,{writable:!0,value:void 0}),s(this,p,{writable:!0,value:void 0}),s(this,x,{writable:!0,value:!1}),s(this,j,{writable:!0,value:"default"}),a(this,l,document.createElement("div")),r(this,l).classList.add("toast"),requestAnimationFrame(()=>{r(this,l).classList.add("show")}),a(this,i,e.onClose||(()=>{})),a(this,g,()=>a(this,h,!1)),a(this,v,()=>a(this,h,!0)),a(this,p,()=>{a(this,x,"visible"===document.visibilityState)}),a(this,o,this.remove.bind(this)),this.update({...n,...e}),a(this,d,null!=(t=e.autoCloseTime)?t:n.autoCloseTime)}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";new y({position:"top-right",toastMsg:e,autoCloseTime:3e3,canClose:!0,showProgress:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,type:t,theme:"light"})}},11419,e=>{"use strict";e.s(["default",()=>P],11419);var t=e.i(96922),r=e.i(60159),s=e.i(90665),a=e.i(12327);async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.search&&(t.search=e.search),e.sortBy&&(t.sort_by=e.sortBy),e.orderBy&&(t.order=e.orderBy),void 0!==e.offset&&(t.offset=e.offset.toString()),void 0!==e.limit&&(t.limit=e.limit.toString());try{return(await a.default.get("/students/",{params:t})).data}catch(e){var r,s,n;throw console.error("API request failed:",(null==(r=e.response)?void 0:r.data)||e.message),Error((null==(n=e.response)||null==(s=n.data)?void 0:s.message)||"‚ùå Failed to fetch students")}}async function l(e){var t,r,s,n,l,o,i,d,c;let{student_id:m,first_name:h,last_name:u,program_code:g,year_level:v,gender:p}=e;try{return{message:(null==(t=(await a.default.post("/students/create",{student_id:m,first_name:h,last_name:u,program_code:g,year_level:v,gender:p})).data)?void 0:t.message)||"‚úÖ Student created successfully"}}catch(e){throw console.error("API request failed:",(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||(null==(l=e.response)||null==(n=l.data)?void 0:n.error)||e.message||"API request failed"),Error((null==(i=e.response)||null==(o=i.data)?void 0:o.error)||(null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"API request failed")}}async function o(e){var t,r,s,n,l,o,i,d,c;let{student_id:m,first_name:h,last_name:u,program_code:g,year_level:v,gender:p,curr_code:x}=e;try{return{message:(null==(t=(await a.default.put("/students/update/".concat(x),{student_id:m,first_name:h,last_name:u,program_code:g,year_level:v,gender:p})).data)?void 0:t.message)||"‚úÖ Student updated successfully"}}catch(e){throw console.error("API request failed:",(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||(null==(l=e.response)||null==(n=l.data)?void 0:n.error)||e.message||"API request failed"),Error((null==(i=e.response)||null==(o=i.data)?void 0:o.error)||(null==(c=e.response)||null==(d=c.data)?void 0:d.message)||"API request failed")}}async function i(e){var t,r,s,n,l,o;let{student_id:i}=e;try{let e=await a.default.delete("/students/delete/".concat(i));if(null==(t=e.data)?void 0:t.error)return{error:e.data.error};return{message:(null==(r=e.data)?void 0:r.message)||"‚úÖ Student deleted successfully",error:null==(s=e.data)?void 0:s.error}}catch(e){return console.error("API request failed:",(null==(n=e.response)?void 0:n.data)||e.message),{error:(null==(o=e.response)||null==(l=o.data)?void 0:l.error)||"‚ùå Failed to delete program"}}}var d=e.i(84275),c=e.i(36866),m=e.i(74603),h=e.i(40329),u=e.i(98963),g=e.i(58663),v=e.i(54809),p=e.i(78851),x=e.i(29953),j=e.i(27841),y=e.i(90941);let f=m.z.object({student_id:m.z.string().regex(/^\d{4}-\d{4}$/,"ID must be in YYYY-NNNN format"),first_name:m.z.string().min(1),last_name:m.z.string().min(1),program_code:m.z.string().min(1),year_level:m.z.string().min(1),gender:m.z.string().min(1)});function w(e){let{label:s,onSuccess:a}=e,n=(0,c.useForm)({resolver:(0,d.zodResolver)(f),defaultValues:{student_id:"",first_name:"",last_name:"",program_code:"",year_level:"",gender:""}}),[o,i]=(0,r.useState)(!1),[m,w]=(0,r.useState)([]),[F,b]=(0,r.useState)(!1),[_,S]=(0,r.useState)("");async function L(){try{b(!0);let e=await (0,y.getAllPrograms)()||[];w(e),e.length>0&&!n.getValues().program_code&&n.setValue("program_code",e[0].program_code)}catch(e){(0,x.showToast)("Error fetching programs: ".concat(e),"warning")}finally{b(!1)}}async function C(e){try{await l(e),(0,x.showToast)("Student added successfully."),i(!1),n.reset(),a&&a()}catch(e){console.error("API error:",e),S(e.message||String(e))}}return(0,r.useEffect)(()=>{o&&L()},[o]),(0,t.jsxs)(p.Dialog,{open:o,onOpenChange:i,children:[(0,t.jsx)(p.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(u.Button,{className:" fixed bottom-4 left-4 sm:static sm:bottom-auto sm:right-auto rounded-full sm:rounded-md h-14 w-14 sm:h-auto sm:w-auto p-0 sm:px-4 sm:py-2 shadow-lg sm:shadow-none flex items-center justify-center gap-2 ",children:[(0,t.jsx)(h.Plus,{className:"h-6 w-6 sm:h-5 sm:w-5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:s})]})}),(0,t.jsxs)(p.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:"Add Student"}),(0,t.jsx)(p.DialogDescription,{children:"Fill in the form to add a new student."})]}),(0,t.jsx)(g.Form,{...n,children:(0,t.jsxs)("form",{onSubmit:n.handleSubmit(C),className:"space-y-4",children:[(0,t.jsx)(g.FormField,{control:n.control,name:"student_id",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"ID Number"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter ID number",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:n.control,name:"first_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"First Name"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter first name",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:n.control,name:"last_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Last Name"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter last name",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:n.control,name:"program_code",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Program"})," ",(0,t.jsxs)(j.Select,{onValueChange:r.onChange,defaultValue:r.value,disabled:F,children:[(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:F?"Loading programs...":"Select a program"})})}),(0,t.jsx)(j.SelectContent,{children:m.filter(e=>e&&e.program_code&&e.program_name).map(e=>(0,t.jsxs)(j.SelectItem,{value:e.program_code,children:[e.program_code," - ",e.program_name]},"".concat(e.program_code,"-").concat(e.program_name)))})]}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:n.control,name:"year_level",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Year Level"}),(0,t.jsxs)(j.Select,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:"Select year level"})})}),(0,t.jsxs)(j.SelectContent,{children:[(0,t.jsx)(j.SelectItem,{value:"1",children:"1st Year"}),(0,t.jsx)(j.SelectItem,{value:"2",children:"2nd Year"}),(0,t.jsx)(j.SelectItem,{value:"3",children:"3rd Year"}),(0,t.jsx)(j.SelectItem,{value:"4",children:"4th Year"}),(0,t.jsx)(j.SelectItem,{value:"4+",children:"4th+ Year"})]})]}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:n.control,name:"gender",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Gender"}),(0,t.jsxs)(j.Select,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:"Select gender"})})}),(0,t.jsxs)(j.SelectContent,{children:[(0,t.jsx)(j.SelectItem,{value:"Male",children:"Male"}),(0,t.jsx)(j.SelectItem,{value:"Female",children:"Female"}),(0,t.jsx)(j.SelectItem,{value:"Other",children:"Other"})]})]}),(0,t.jsx)(g.FormMessage,{})]})}}),_&&(0,t.jsx)("p",{className:"text-red-600 text-sm font-medium",children:_}),(0,t.jsx)(p.DialogFooter,{children:(0,t.jsx)(u.Button,{type:"submit",disabled:F,children:"Submit"})})]})})]})]})}var F=e.i(15379),b=e.i(26075);let _=m.z.object({student_id:m.z.string().regex(/^\d{4}-\d{4}$/,"ID must be in YYYY-NNNN format"),first_name:m.z.string().min(1),last_name:m.z.string().min(1),program_code:m.z.string().min(1),year_level:m.z.string().min(1),gender:m.z.string().min(1)});function S(e){let{student:s,onSuccess:a}=e,[n,l]=(0,r.useState)(!1),[i,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)([]),[w,F]=(0,r.useState)(""),S=(0,c.useForm)({resolver:(0,d.zodResolver)(_),defaultValues:{student_id:"",first_name:"",last_name:"",program_code:"",year_level:"",gender:""}});async function L(){try{m(!0);let e=await (0,y.getAllPrograms)();f(e||[])}catch(e){(0,x.showToast)("Error fetching programs: ".concat(e),"warning")}finally{m(!1)}}async function C(e){try{await o({...e,curr_code:s.student_id}),(0,x.showToast)("Student edited successfully.","success"),l(!1),a&&a()}catch(e){F(e.message||String(e))}}return(0,r.useEffect)(()=>{n&&L()},[n]),(0,r.useEffect)(()=>{s&&n&&S.reset({student_id:s.student_id,first_name:s.first_name,last_name:s.last_name,program_code:s.program_code,year_level:s.year_level,gender:s.gender})},[s,n,S]),(0,t.jsxs)(p.Dialog,{open:n,onOpenChange:l,children:[(0,t.jsx)(p.DialogTrigger,{asChild:!0,className:"m-2",children:(0,t.jsx)(u.Button,{children:(0,t.jsx)(b.Edit,{className:"h-6 w-6"})})}),(0,t.jsxs)(p.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:"Edit Student"}),(0,t.jsx)(p.DialogDescription,{children:"Fill in the form to edit student information."})]}),(0,t.jsx)(g.Form,{...S,children:(0,t.jsxs)("form",{onSubmit:S.handleSubmit(C),className:"space-y-4",children:[(0,t.jsx)(g.FormField,{control:S.control,name:"student_id",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"ID Number"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter ID number",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:S.control,name:"first_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"First Name"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter first name",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:S.control,name:"last_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Last Name"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter last name",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:S.control,name:"program_code",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Program"}),(0,t.jsxs)(j.Select,{onValueChange:r.onChange,value:r.value,disabled:i,children:[(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:i?"Loading programs...":"Select a program"})})}),(0,t.jsx)(j.SelectContent,{children:h.map(e=>(0,t.jsxs)(j.SelectItem,{value:e.program_code,children:[e.program_code," - ",e.program_name]},e.program_code))})]}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:S.control,name:"year_level",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Year Level"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter year level",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),(0,t.jsx)(g.FormField,{control:S.control,name:"gender",render:e=>{let{field:r}=e;return(0,t.jsxs)(g.FormItem,{children:[(0,t.jsx)(g.FormLabel,{children:"Gender"}),(0,t.jsx)(g.FormControl,{children:(0,t.jsx)(v.Input,{placeholder:"Enter gender",...r})}),(0,t.jsx)(g.FormMessage,{})]})}}),w&&(0,t.jsx)("p",{className:"text-red-600 text-sm font-medium",children:w}),(0,t.jsx)(p.DialogFooter,{children:(0,t.jsx)(u.Button,{type:"submit",disabled:i,children:"Submit"})})]})})]})]})}var L=e.i(17172),C=e.i(49668);C.object({student_id:C.string().regex(/^\d{4}-\d{4}$/,"ID must be in YYYY-NNNN format"),first_name:C.string().min(1),last_name:C.string().min(1),program_code:C.string(),year_level:C.string(),gender:C.string()});let I=(0,r.createContext)(void 0);function N(e){let{children:s}=e,[a,l]=(0,r.useState)([]),o=async()=>{await n()};return(0,t.jsx)(I.Provider,{value:{students:a,fetchStudents:o},children:s})}function P(){let[e,a]=(0,r.useState)([]),[l,o]=(0,r.useState)(0),[d,c]=(0,r.useState)(0),[m]=(0,r.useState)(10),[h,g]=(0,r.useState)([]),[v,p]=(0,r.useState)(!0),[x,j]=(0,r.useState)("");(0,r.useEffect)(()=>{y(d*m)},[d,h,x]);let y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;p(!0);try{var t,r;let s=(null==(t=h[0])?void 0:t.id)||"student_id",l=(null==(r=h[0])?void 0:r.desc)?"desc":"asc",i=await n({offset:e,limit:m,sortBy:s,orderBy:l,search:x});a(i.students.rows||[]),o(i.students.total),j(x)}catch(e){console.error("Failed to load students:",e)}finally{p(!1)}};return v?(0,t.jsx)("div",{children:"Loading students..."}):(0,t.jsx)(N,{children:(0,t.jsx)(s.DataTable,{columns:[{accessorKey:"student_id",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["ID Number",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"ID Number"}},{accessorKey:"first_name",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["First Name",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"First Name"}},{accessorKey:"last_name",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["Last Name",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"Last Name"}},{accessorKey:"program_code",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["Program",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"Program"}},{accessorKey:"year_level",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["Year Level",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"Year Level"}},{accessorKey:"gender",header:e=>{let{column:r}=e;return(0,t.jsxs)(u.Button,{variant:"ghost",onClick:()=>r.toggleSorting("asc"===r.getIsSorted()),children:["Gender",(0,t.jsx)(F.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"Gender"}},{id:"actions",header:"Actions",cell:e=>{let{row:r}=e,s=r.original;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S,{student:s,onSuccess:y}),(0,t.jsx)(L.DeleteDialog,{itemName:"".concat(s.student_id,": ").concat(s.last_name),onConfirm:async()=>await i(s),onSuccess:y})]})}}],data:e,total:l,pageIndex:d,pageSize:m,sorting:h,onSortingChange:g,onSearch:e=>{c(0),j(e)},onPageChange:e=>{c(e)},actions:[{Component:w,props:{label:"Add College",onSuccess:()=>y(d*m)}}]})})}}]);