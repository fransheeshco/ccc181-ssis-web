(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12628,e=>{"use strict";e.s(["Label",()=>a],12628);var s=e.i(92095),t=e.i(30677),l=e.i(64819),r=t.forwardRef((e,t)=>(0,s.jsx)(l.Primitive.label,{...e,ref:t,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var o=e.i(68409);function a(e){let{className:t,...l}=e;return(0,s.jsx)(r,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...l})}},94674,25318,24018,71015,e=>{"use strict";function s(e,s,t){if(!s.has(e))throw TypeError("attempted to "+t+" private field on non-instance");return s.get(e)}function t(e,t){var l=s(e,t,"get");return l.get?l.get.call(e):l.value}function l(e,s,t){if(s.has(e))throw TypeError("Cannot initialize the same private elements twice on an object");s.set(e,t)}function r(e,t,l){var r=s(e,t,"set");if(r.set)r.set.call(e,l);else{if(!r.writable)throw TypeError("attempted to set read only private field");r.value=l}return l}e.s(["showToast",()=>x],94674),e.s(["_",()=>t],25318),e.s(["_",()=>l],24018),e.s(["_",()=>r],71015);let o={position:"top-right",toastMsg:"ðŸ¦š TypeScript Toastify",autoCloseTime:5e3,onClose:()=>{},canClose:!0,showProgress:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,type:"default",theme:"light"};var a=new WeakMap,i=new WeakMap,n=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,p=new WeakMap,w=new WeakMap,y=new WeakMap;class f{set position(e){let s=t(this,a).parentElement;(document.querySelector('.toast-container[data-position="'.concat(e,'"]'))||(()=>{let s=document.createElement("div");return s.classList.add("toast-container"),s.dataset.position=e,document.body.append(s),s})()).append(t(this,a)),null==s||s.hasChildNodes()||s.remove()}set toastMsg(e){t(this,a).textContent=e}set autoCloseTime(e){let s;if(r(this,c,e),r(this,h,0),!1==!!e)return;let l=e=>{if(t(this,w)&&(s=null,r(this,w,!1)),null==s){s=e,r(this,g,requestAnimationFrame(l));return}if(!t(this,u)&&(r(this,h,t(this,h)+(e-s)),t(this,h)>=t(this,c)))return void this.remove();s=e,r(this,g,requestAnimationFrame(l))};r(this,g,requestAnimationFrame(l))}set canClose(e){t(this,a).classList.toggle("can-close",e),e?t(this,a).addEventListener("click",t(this,i)):t(this,a).removeEventListener("click",t(this,i))}set showProgress(e){if(t(this,a).classList.toggle("progress",e),t(this,a).style.setProperty("--progress","1"),e){let e=()=>{t(this,u)||t(this,a).style.setProperty("--progress","".concat(1-t(this,h)/t(this,c))),r(this,d,requestAnimationFrame(e))};r(this,d,requestAnimationFrame(e))}}set pauseOnHover(e){e?(t(this,a).addEventListener("mouseover",t(this,v)),t(this,a).addEventListener("mouseleave",t(this,m))):(t(this,a).removeEventListener("mouseover",t(this,v)),t(this,a).removeEventListener("mouseleave",t(this,m)))}set pauseOnFocusLoss(e){e?document.addEventListener("visibilitychange",t(this,p)):document.removeEventListener("visibilitychange",t(this,p))}set type(e){let s=t(this,a).querySelector(".toast-icon");s&&s.remove();let l=document.createElement("div");l.classList.add("toast-icon"),r(this,y,e),"default"===e||("error"===e?(l.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--error-secondary)" class="Type_svg"><path d="M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"></path></svg>\n',t(this,a).style.setProperty("--light_bg","var(--error-primary)"),t(this,a).style.setProperty("--dark_bg","var(--error-primary)"),t(this,a).style.setProperty("--light-border","var(--error-secondary)"),t(this,a).classList.add("error"),t(this,a).classList.remove("info"),t(this,a).classList.remove("success"),t(this,a).classList.remove("warning")):"info"===e?(l.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--info-secondary)" class="Type_svg"><path d="M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"></path></svg>\n',t(this,a).style.setProperty("--light_bg","var(--info-primary)"),t(this,a).style.setProperty("--dark_bg","var(--info-primary)"),t(this,a).style.setProperty("--light-border","var(--info-secondary)"),t(this,a).classList.add("info"),t(this,a).classList.remove("error"),t(this,a).classList.remove("success"),t(this,a).classList.remove("warning")):"success"===e?(l.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--success-secondary)" class="Type_svg"><path d="M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"></path></svg>\n',t(this,a).style.setProperty("--light_bg","var(--success-primary)"),t(this,a).style.setProperty("--dark_bg","var(--success-primary)"),t(this,a).style.setProperty("--light-border","var(--success-secondary)"),t(this,a).classList.add("success"),t(this,a).classList.remove("info"),t(this,a).classList.remove("error"),t(this,a).classList.remove("warning")):"warning"===e&&(l.innerHTML='\n<svg viewBox="0 0 24 24" width="100%" height="100%" fill="var(--warning-secondary)" class="Type_svg"><path d="M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"></path></svg>\n',t(this,a).style.setProperty("--light_bg","var(--warning-primary)"),t(this,a).style.setProperty("--dark_bg","var(--warning-primary)"),t(this,a).style.setProperty("--light-border","var(--warning-secondary)"),t(this,a).classList.add("warning"),t(this,a).classList.remove("info"),t(this,a).classList.remove("success"),t(this,a).classList.remove("error"))),t(this,a).prepend(l)}set theme(e){if("info"===t(this,y)||"success"===t(this,y)||"warning"===t(this,y)||"error"===t(this,y)){t(this,a).classList.remove("dark"),t(this,a).classList.remove("light"),"dark"===e&&t(this,a).style.setProperty("--light_color","var(--dark_color)");return}"dark"===e?(t(this,a).style.setProperty("--light_bg","var(--dark_bg)"),t(this,a).style.setProperty("--light_color","var(--dark_color)"),t(this,a).classList.add("dark")):(t(this,a).style.setProperty("--dark_bg","var(--light_bg)"),t(this,a).style.setProperty("--dark_color","var(--light_color)"),t(this,a).classList.add("light"))}remove(){void 0!==t(this,g)&&cancelAnimationFrame(t(this,g)),void 0!==t(this,d)&&cancelAnimationFrame(t(this,d));let e=t(this,a).parentElement;t(this,a).classList.remove("show"),t(this,a).addEventListener("transitionend",()=>{t(this,a).remove(),e.hasChildNodes()||e.remove()}),t(this,n).call(this)}update(e){Object.entries(e).forEach(e=>{let[s,t]=e;this[s]=t})}constructor(e){var s;l(this,a,{writable:!0,value:void 0}),l(this,i,{writable:!0,value:void 0}),l(this,n,{writable:!0,value:void 0}),l(this,c,{writable:!0,value:void 0}),l(this,d,{writable:!0,value:void 0}),l(this,h,{writable:!0,value:0}),l(this,u,{writable:!0,value:!1}),l(this,g,{writable:!0,value:void 0}),l(this,m,{writable:!0,value:void 0}),l(this,v,{writable:!0,value:void 0}),l(this,p,{writable:!0,value:void 0}),l(this,w,{writable:!0,value:!1}),l(this,y,{writable:!0,value:"default"}),r(this,a,document.createElement("div")),t(this,a).classList.add("toast"),requestAnimationFrame(()=>{t(this,a).classList.add("show")}),r(this,n,e.onClose||(()=>{})),r(this,m,()=>r(this,u,!1)),r(this,v,()=>r(this,u,!0)),r(this,p,()=>{r(this,w,"visible"===document.visibilityState)}),r(this,i,this.remove.bind(this)),this.update({...o,...e}),r(this,c,null!=(s=e.autoCloseTime)?s:o.autoCloseTime)}}function x(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";new f({position:"top-right",toastMsg:e,autoCloseTime:3e3,canClose:!0,showProgress:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,type:s,theme:"light"})}},81815,e=>{"use strict";e.s(["createCollege",()=>l,"deleteCollege",()=>o,"fetchColleges",()=>t,"getAllColleges",()=>a,"updateCollege",()=>r]);var s=e.i(14891);async function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.search&&(t.search=e.search),e.sortBy&&(t.sort_by=e.sortBy),e.orderBy&&(t.order=e.orderBy),void 0!==e.offset&&(t.offset=e.offset.toString()),void 0!==e.limit&&(t.limit=e.limit.toString());try{let e=await s.default.get("/colleges/",{params:t});return console.log(e),e.data}catch(e){var l,r,o;throw console.error("API request failed:",(null==(l=e.response)?void 0:l.data)||e.message),Error((null==(o=e.response)||null==(r=o.data)?void 0:r.msg)||"API request failed")}}async function l(e){let{college_code:t,college_name:l}=e;try{return(await s.default.post("/colleges/create",{college_code:t,college_name:l})).data}catch(e){var r,o,a,i,n,c,d,h;throw console.error("API request failed:",(null==(o=e.response)||null==(r=o.data)?void 0:r.message)||(null==(i=e.response)||null==(a=i.data)?void 0:a.error)||e.message||"API request failed"),Error((null==(c=e.response)||null==(n=c.data)?void 0:n.error)||(null==(h=e.response)||null==(d=h.data)?void 0:d.message)||"API request failed")}}async function r(e){let{college_code:t,college_name:l,curr_code:r}=e;try{await s.default.put("/colleges/update/".concat(r),{college_code:t,college_name:l})}catch(e){var o,a,i,n,c,d,h,u;throw console.error("API request failed:",(null==(a=e.response)||null==(o=a.data)?void 0:o.message)||(null==(n=e.response)||null==(i=n.data)?void 0:i.error)||e.message||"API request failed"),Error((null==(d=e.response)||null==(c=d.data)?void 0:c.error)||(null==(u=e.response)||null==(h=u.data)?void 0:h.message)||"API request failed")}}async function o(e){var t,l,r,o;let{college_code:a}=e;try{return{message:(null==(t=(await s.default.delete("/colleges/delete/".concat(a))).data)?void 0:t.message)||"âœ… College deleted successfully"}}catch(e){return console.error("API request failed:",(null==(l=e.response)?void 0:l.data)||e.message),{error:(null==(o=e.response)||null==(r=o.data)?void 0:r.error)||"âŒ Failed to delete college."}}}async function a(){try{return(await s.default.get("/colleges/getcolleges")).data}catch(s){var e,t,l;throw console.error("Failed to fetch all colleges:",(null==(e=s.response)?void 0:e.data)||s.message),Error((null==(l=s.response)||null==(t=l.data)?void 0:t.msg)||"Failed to fetch colleges")}}},13879,e=>{"use strict";e.s(["default",()=>F],13879);var s=e.i(92095),t=e.i(30677),l=e.i(51544),r=e.i(81815),o=e.i(55858),a=e.i(41733),i=e.i(14199),n=e.i(16798),c=e.i(84620),d=e.i(94674),h=e.i(28450),u=e.i(628),g=e.i(3687),m=e.i(54007);let v=i.z.object({college_code:i.z.string().min(1),college_name:i.z.string().min(1)});function p(e){let{label:l,onSuccess:i}=e,p=(0,a.useForm)({resolver:(0,o.zodResolver)(v),defaultValues:{college_code:"",college_name:""}}),[w,y]=(0,t.useState)(!1),[f,x]=(0,t.useState)(""),[j,C]=(0,t.useState)(!1);async function b(e){try{await (0,r.createCollege)(e),(0,d.showToast)("College Added Successfully.","success"),y(!1),p.reset(),i&&i()}catch(e){console.error("API error:",e),x(e.message||String(e))}}return(0,s.jsxs)(m.Dialog,{open:w,onOpenChange:y,children:[(0,s.jsx)(m.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(h.Button,{className:" fixed bottom-4 left-4 sm:static sm:bottom-auto sm:right-auto rounded-full sm:rounded-md h-14 w-14 sm:h-auto sm:w-auto p-0 sm:px-4 sm:py-2 shadow-lg sm:shadow-none flex items-center justify-center gap-2 ",children:[(0,s.jsx)(n.Plus,{className:"h-6 w-6 sm:h-5 sm:w-5"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:l})]})}),(0,s.jsxs)(m.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"Add College"}),(0,s.jsx)(m.DialogDescription,{children:"Fill in the form to add a new College."})]}),(0,s.jsx)(u.Form,{...p,children:(0,s.jsxs)("form",{onSubmit:p.handleSubmit(b),className:"space-y-4",children:[(0,s.jsx)(u.FormField,{control:p.control,name:"college_code",render:e=>{let{field:t}=e;return(0,s.jsxs)(u.FormItem,{children:[(0,s.jsx)(u.FormLabel,{children:"College Code"}),(0,s.jsx)(u.FormControl,{children:(0,s.jsx)(g.Input,{placeholder:"Enter College Code",...t})}),(0,s.jsx)(u.FormMessage,{})]})}}),(0,s.jsx)(u.FormField,{control:p.control,name:"college_name",render:e=>{let{field:t}=e;return(0,s.jsxs)(u.FormItem,{children:[(0,s.jsx)(u.FormLabel,{children:"College Name"}),(0,s.jsx)(u.FormControl,{children:(0,s.jsx)(g.Input,{placeholder:"Enter College Name",...t})}),(0,s.jsx)(u.FormMessage,{})]})}}),f&&(0,s.jsx)("p",{className:"text-red-600 text-sm font-medium",children:f}),(0,s.jsx)(m.DialogFooter,{children:(0,s.jsxs)(h.Button,{type:"submit",children:[j&&(0,s.jsx)(c.Loader2,{className:"animate-spin h-4 w-4"}),j?"Loading...":"Submit"]})})]})})]})]})}var w=e.i(79683);let y=i.z.object({new_college_code:i.z.string().min(1,"College code is required"),new_college_name:i.z.string().min(1,"College name is required")});function f(e){let{college:l,onSuccess:i}=e,n=(0,a.useForm)({resolver:(0,o.zodResolver)(y),defaultValues:{new_college_code:"",new_college_name:""}}),[v,p]=(0,t.useState)(!1),[w,f]=(0,t.useState)(""),[x,j]=(0,t.useState)(!1),[C,b]=(0,t.useState)(!1),[_,L]=(0,t.useState)(null);async function F(e){j(!0),f("");try{await (0,r.updateCollege)({curr_code:l.college_code,college_code:e.new_college_code,college_name:e.new_college_name}),(0,d.showToast)("College updated successfully!","success"),p(!1),b(!1),L(null),i&&i()}catch(e){f(e.message||String(e))}finally{j(!1)}}return(0,t.useEffect)(()=>{l&&n.reset({new_college_code:l.college_code,new_college_name:l.college_name})},[l,n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(m.Dialog,{open:v,onOpenChange:p,children:[(0,s.jsx)(m.DialogTrigger,{asChild:!0,className:"m-2",children:(0,s.jsx)("div",{children:"Edit"})}),(0,s.jsxs)(m.DialogContent,{className:"max-w-md",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"Edit College"}),(0,s.jsxs)(m.DialogDescription,{children:["Editing ",(0,s.jsx)("strong",{children:l.college_code})]})]}),(0,s.jsx)(u.Form,{...n,children:(0,s.jsxs)("form",{onSubmit:n.handleSubmit(function(e){L(e),b(!0)}),className:"space-y-4",children:[(0,s.jsx)(u.FormField,{control:n.control,name:"new_college_code",render:e=>{let{field:t}=e;return(0,s.jsxs)(u.FormItem,{children:[(0,s.jsx)(u.FormLabel,{children:"New College Code"}),(0,s.jsx)(u.FormControl,{children:(0,s.jsx)(g.Input,{placeholder:"Enter new code",...t,disabled:x})}),(0,s.jsx)(u.FormMessage,{})]})}}),(0,s.jsx)(u.FormField,{control:n.control,name:"new_college_name",render:e=>{let{field:t}=e;return(0,s.jsxs)(u.FormItem,{children:[(0,s.jsx)(u.FormLabel,{children:"New College Name"}),(0,s.jsx)(u.FormControl,{children:(0,s.jsx)(g.Input,{placeholder:"Enter new name",...t,disabled:x})}),(0,s.jsx)(u.FormMessage,{})]})}}),(0,s.jsx)(m.DialogFooter,{children:(0,s.jsx)(h.Button,{type:"submit",disabled:x,className:"flex items-center gap-2 justify-center",children:"Save Changes"})})]})})]})]}),(0,s.jsx)(m.Dialog,{open:C,onOpenChange:b,children:(0,s.jsxs)(m.DialogContent,{className:"max-w-sm",children:[(0,s.jsxs)(m.DialogHeader,{children:[(0,s.jsx)(m.DialogTitle,{children:"Confirm Changes"}),(0,s.jsxs)(m.DialogDescription,{children:["Are you sure you want to update the college ",(0,s.jsxs)("strong",{children:[l.college_code," - ",l.college_name]}),"?"]})]}),(0,s.jsxs)(m.DialogFooter,{className:"flex justify-end gap-2",children:[w&&(0,s.jsx)("p",{className:"text-red-600 text-sm font-medium",children:w}),(0,s.jsx)(h.Button,{variant:"outline",onClick:()=>{b(!1),L(null)},children:"Cancel"}),(0,s.jsxs)(h.Button,{onClick:()=>{_&&F(_)},children:[x&&(0,s.jsx)(c.Loader2,{className:"animate-spin h-4 w-4"}),x?"Loading...":"Confirm"]})]})]})})]})}var x=e.i(82137),j=e.i(50412),C=e.i(6648),b=e.i(57081);j.object({college_code:j.string().min(1,"College code is required"),college_name:j.string().min(1,"College name is required")});let _=(0,t.createContext)(void 0);function L(e){let{children:l}=e,[o,a]=(0,t.useState)([]),i=async()=>{await (0,r.fetchColleges)()};return(0,s.jsx)(_.Provider,{value:{colleges:o,fetchColleges:i},children:l})}function F(){let e,[o,a]=(0,t.useState)([]),[i,n]=(0,t.useState)(0),[c,d]=(0,t.useState)(0),[u]=(0,t.useState)(10),[g,m]=(0,t.useState)([]),[v,y]=(0,t.useState)(!0),[j,_]=(0,t.useState)(""),F=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;y(!0);try{var s,t;let l=(null==(s=g[0])?void 0:s.id)||"college_name",o=(null==(t=g[0])?void 0:t.desc)?"desc":"asc",i=await (0,r.fetchColleges)({offset:e,limit:u,sortBy:l,orderBy:o,search:j});a(i.colleges.rows||[]),n(i.colleges.total)}catch(e){console.error("Failed to load colleges:",e)}finally{y(!1)}},[g,j,u]);return((0,t.useEffect)(()=>{F(c*u)},[c,g,j,F]),v)?(0,s.jsx)("div",{children:"Loading colleges..."}):(0,s.jsx)(L,{children:(0,s.jsx)(l.DataTable,{columns:(e=()=>F(c*u),[{accessorKey:"college_code",size:140,header:e=>{let{column:t}=e;return(0,s.jsxs)(h.Button,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["College Code",(0,s.jsx)(w.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"College Code"}},{accessorKey:"college_name",size:200,header:e=>{let{column:t}=e;return(0,s.jsxs)(h.Button,{variant:"ghost",onClick:()=>t.toggleSorting("asc"===t.getIsSorted()),children:["College Name",(0,s.jsx)(w.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})},meta:{label:"College Name"}},{id:"actions",header:"Actions",size:70,cell:t=>{let{row:l}=t,o=l.original;return(0,s.jsxs)(C.DropdownMenu,{children:[(0,s.jsx)(C.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)("button",{className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100",children:(0,s.jsx)(b.MoreHorizontal,{className:"h-5 w-5"})})}),(0,s.jsxs)(C.DropdownMenuContent,{align:"end",className:"w-40",children:[(0,s.jsx)(C.DropdownMenuItem,{asChild:!0,children:(0,s.jsx)(f,{college:o,onSuccess:e})}),(0,s.jsx)(C.DropdownMenuItem,{asChild:!0,children:(0,s.jsx)(x.DeleteDialog,{itemName:"".concat(o.college_code,": ").concat(o.college_name),onConfirm:async()=>await (0,r.deleteCollege)(o),onSuccess:e})})]})]})}}]),data:o,total:i,pageIndex:c,pageSize:u,sorting:g,onSortingChange:m,onSearch:e=>{d(0),_(e)},onPageChange:e=>d(e),actions:[{Component:p,props:{label:"Add College",onSuccess:()=>F(c*u)}}]})})}}]);